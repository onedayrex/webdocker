FROM onedayrex/webdocker
MAINTAINER onedayrex "1115757866@qq.com"

ENV JAVA_HOME /home/jdk1.7.0_79
ENV MAVEN_HOME=/var/tmp/maven/apache-maven-3.3.9
ENV PATH $PATH:$JAVA_HOME/bin
RUN mkdir /var/tmp/webapp
ADD ./ /var/tmp/webapp
RUN cd /var/tmp/webapp && mvn package
ENV PATH=$MAVEN_HOME/bin:$PATH
EXPOSE 8080
CMD ["java","-Dfile.encoding=GBK","-jar","/var/tmp/webapp/target/webdocker-1.0.0.jar"]
